<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<script src="../../_wsg/js/wsg_include.js"></script>
<script>include.meta()</script>
<script>include.head()</script>
<script type="application/javascript">
	function draw11(){
		var ctx = document.getElementById('canvas11').getContext('2d');

        ctx.fillRect(0, 0, 150, 150);
        ctx.save();

        ctx.fillStyle = '#09f';
        ctx.fillRect(15, 15, 120, 120);

        ctx.save();
        ctx.fillStyle = '#fff';
        ctx.globalAlpha = 0.5;
        ctx.fillRect(30, 30, 90, 90);

        ctx.restore();
        ctx.fillRect(45, 45, 60, 60);

        ctx.restore();
        ctx.fillRect(60, 60, 30, 30);
	}
	function draw21(){
		var ctx = document.getElementById('canvas21').getContext('2d');

        for (var i = 0; i < 3; i++) {
            for (var j = 0; j < 3; j++) {
                ctx.save();
                ctx.fillStyle = 'rgb(' + (51 * i) + ', ' + (255 - 51 * i) + ', 255)';
                ctx.translate(10 + j * 50, 10 + i * 50);
                ctx.fillRect(0, 0, 25, 25);
                ctx.restore();
            }
        }
	}
	function draw31(){
		var ctx = document.getElementById('canvas31').getContext('2d');

		// 좌측 사각형, 캔버스 원점에서 회전하기
        ctx.save();
		// 파란 사각형
        ctx.fillStyle = '#0095dd';
		ctx.fillRect(30, 30, 100, 100);
		ctx.rotate((Math.PI/180)*25);
		// 회색 사각형
		ctx.fillStyle = '#4d4e53';
		ctx.fillRect(30, 30, 100, 100);
		ctx.restore();

		// 우측 사각형, 사각형 중심에서 회전하기
		// 파란 사각형 그리기
		ctx.fillStyle = '#0095dd';
		ctx.fillRect(150, 30, 100, 100);

		ctx.translate(200, 80); // 사각형 중심으로 이동하기
		ctx.rotate((Math.PI / 180) * 25); // 회전
		ctx.translate(-200, -80); // 예전 위치로 이동하기

		// 회색 사각형 그리기
		ctx.fillStyle = '#4d4e53';
		ctx.fillRect(150, 30, 100, 100);
	}
	function draw41(){
		var ctx = document.getElementById('canvas41').getContext('2d');

		// 간단하지만 확대 축소 비율을 적용한 사각형 그리기
		ctx.save();
		ctx.scale(10, 3);
		ctx.fillRect(1, 10, 10, 10);
		ctx.restore();

		// 수평으로 대칭하기
		ctx.scale(-1, 1);
		ctx.font = '48px serif';
		ctx.fillText('MDN', -135, 120);
	}
	function draw51(){
		var ctx = document.getElementById('canvas51').getContext('2d');

		var sin = Math.sin(Math.PI / 6);
		var cos = Math.cos(Math.PI / 6);
		ctx.translate(100, 100);
		var c = 0;
		for (var i = 0; i <= 12; i++){
			c = Math.floor(255 / 12 * i);
			ctx.fillStyle = 'rgb(' + c + ', ' + c + ', ' + c + ')';
			ctx.fillRect(0, 0, 100, 10);
			ctx.transform(cos, sin, -sin, cos, 0, 0);
		}

		ctx.setTransform(-1, 0, 0, 1, 100, 100);
		ctx.fillStyle = 'rgba(255, 128, 255, 0.5)';
		ctx.fillRect(0, 50, 100, 100);
	}
	window.onload = function(){
		draw11();
		draw21();
		draw31();
		draw41();
		draw51();
	}
</script>
</head>
<body>
<div id="g-wrapper">
	<script>include.header()</script>
	<div id="g-container">
		<script>include.aside.init()</script>

		<!-- Content -->
		<article id="g-content">
			<div class="g-content-header">
				<h1 class="g-h1">변형</h1>
			</div>
			<div class="g-content-body">
				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">상태(state)의 저장과 복원</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">save와 restore canvas 상태(state) 예제</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas11" width="150" height="150"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas11" width="150" height="150"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var ctx = document.getElementById('canvas11').getContext('2d');

									ctx.fillRect(0, 0, 150, 150);
									ctx.save();

									ctx.fillStyle = '#09f';
									ctx.fillRect(15, 15, 120, 120);

									ctx.save();
									ctx.fillStyle = '#fff';
									ctx.globalAlpha = 0.5;
									ctx.fillRect(30, 30, 90, 90);

									ctx.restore();
									ctx.fillRect(45, 45, 60, 60);

									ctx.restore();
									ctx.fillRect(60, 60, 30, 30);
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->

				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">이동(translating)</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">translate 예제</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas21" width="150" height="150"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas21" width="150" height="150"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var ctx = document.getElementById('canvas21').getContext('2d');

									for (var i = 0; i < 3; i++) {
										for (var j = 0; j < 3; j++) {
											ctx.save();
											ctx.fillStyle = 'rgb(' + (51 * i) + ', ' + (255 - 51 * i) + ', 255)';
											ctx.translate(10 + j * 50, 10 + i * 50);
											ctx.fillRect(0, 0, 25, 25);
											ctx.restore();
										}
									}
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->

				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">회전(rotating)</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">rotate 예제</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas31" width="300" height="150"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas31" width="300" height="150"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var ctx = document.getElementById('canvas31').getContext('2d');

									// 좌측 사각형, 캔버스 원점에서 회전하기
									ctx.save();
									// 파란 사각형
									ctx.fillStyle = '#0095dd';
									ctx.fillRect(30, 30, 100, 100);
									ctx.rotate((Math.PI/180)*25);
									// 회색 사각형
									ctx.fillStyle = '#4d4e53';
									ctx.fillRect(30, 30, 100, 100);
									ctx.restore();

									// 우측 사각형, 사각형 중심에서 회전하기
									// 파란 사각형 그리기
									ctx.fillStyle = '#0095dd';
									ctx.fillRect(150, 30, 100, 100);

									ctx.translate(200, 80); // 사각형 중심으로 이동하기
									ctx.rotate((Math.PI / 180) * 25); // 회전
									ctx.translate(-200, -80); // 예전 위치로 이동하기

									// 회색 사각형 그리기
									ctx.fillStyle = '#4d4e53';
									ctx.fillRect(150, 30, 100, 100);
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->

				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">확대·축소(scaling)</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">scale 예제</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas41" width="150" height="150"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas41" width="150" height="150"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var ctx = document.getElementById('canvas41').getContext('2d');

									// 간단하지만 확대 축소 비율을 적용한 사각형 그리기
									ctx.save();
									ctx.scale(10, 3);
									ctx.fillRect(1, 10, 10, 10);
									ctx.restore();

									// 수평으로 대칭하기
									ctx.scale(-1, 1);
									ctx.font = '48px serif';
									ctx.fillText('MDN', -135, 120);
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->

				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">변형(transforms)</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">transform과 setTransform 예제</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas51" width="300" height="300"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas51" width="300" height="300"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var ctx = document.getElementById('canvas51').getContext('2d');

									var sin = Math.sin(Math.PI / 6);
									var cos = Math.cos(Math.PI / 6);
									ctx.translate(100, 100);
									var c = 0;
									for (var i = 0; i <= 12; i++){
										c = Math.floor(255 / 12 * i);
										ctx.fillStyle = 'rgb(' + c + ', ' + c + ', ' + c + ')';
										ctx.fillRect(0, 0, 100, 10);
										ctx.transform(cos, sin, -sin, cos, 0, 0);
									}

									ctx.setTransform(-1, 0, 0, 1, 100, 100);
									ctx.fillStyle = 'rgba(255, 128, 255, 0.5)';
									ctx.fillRect(0, 50, 100, 100);
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->
			</div>
		</article>
		<!-- //Content -->

		<script>include.quick.init()</script>
	</div>
	<script>include.footer()</script>
</div>
</body>
</html>