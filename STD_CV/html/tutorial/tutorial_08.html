<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<script src="../../wsg/js/wsg_include.js"></script>
<script>include.meta()</script>
<script>include.head()</script>
<script type="application/javascript">
	function draw11(){
		var sun = new Image();
		var moon = new Image();
		var earth = new Image();
		function init(){
			sun.src = 'https://mdn.mozillademos.org/files/1456/Canvas_sun.png';
			moon.src = 'https://mdn.mozillademos.org/files/1443/Canvas_moon.png';
			earth.src = 'https://mdn.mozillademos.org/files/1429/Canvas_earth.png';
			setInterval(draw, 100);
		}

		function draw(){
			var ctx = document.getElementById('canvas11').getContext('2d');

			ctx.globalCompositeOperation = 'destination-over';
			ctx.clearRect(0, 0, 300, 300); // 캔버스를 비운다

			ctx.fillStyle = 'rgba(0,0,0,0.4)';
			ctx.strokeStyle = 'rgba(0,153,255,0.4)';
			ctx.save();
			ctx.translate(150, 150);

			// 지구
			var time = new Date();
			ctx.rotate( ((2*Math.PI)/60)*time.getSeconds() + ((2*Math.PI)/60000)*time.getMilliseconds() );
			ctx.translate(105, 0);
			ctx.fillRect(0, -12, 50, 24); // Shadow
			ctx.drawImage(earth, -12, -12);

			// 달
			ctx.save();
			ctx.rotate( ((2*Math.PI)/6) * time.getSeconds() + ((2*Math.PI)/6000) * time.getMilliseconds() );
			ctx.translate(0, 28.5);
			ctx.drawImage(moon, -3.5, -3.5);
			ctx.restore();

			ctx.restore();

			ctx.beginPath();
			ctx.arc(150,150,105,0,Math.PI * 2, false); // 지구 궤도
			ctx.stroke();

			ctx.drawImage(sun, 0, 0, 300, 300);
		}
		init();
	}
	function draw12(){
		function init(){
			clock();
			setInterval(clock, 1000);
		}
		function clock(){
			var now = new Date();
			var ctx = document.getElementById('canvas12').getContext('2d');
			ctx.save();
			ctx.clearRect(0,0,150,150);
			ctx.translate(75,75);
			ctx.scale(0.4,0.4);
			ctx.rotate(-Math.PI/2);
			ctx.strokeStyle = "black";
			ctx.fillStyle = "white";
			ctx.lineWidth = 8;
			ctx.lineCap = "round";

			// 시계판 - 시
			ctx.save();
			for (var i = 0; i<12; i++){
				ctx.beginPath();
				ctx.rotate(Math.PI/6);
				ctx.moveTo(100,0);
				ctx.lineTo(120,0);
				ctx.stroke();
			}
			ctx.restore();

			// 시계판 - 분
			ctx.save();
			ctx.lineWidth = 5;
			for (i=0; i<60; i++){
				if (i%5 != 0){
					ctx.beginPath();
					ctx.moveTo(117,0);
					ctx.lineTo(120,0);
					ctx.stroke();
				}
				ctx.rotate(Math.PI/30);
			}
			ctx.restore();

			var sec = now.getSeconds();
			var min = now.getMinutes();
			var hr = now.getHours();
			hr = hr>=12 ? hr-12 : hr;

			ctx.fillStyle = "black";

			// 시간 표시 - 시
			ctx.save();
			ctx.rotate(hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec );
			ctx.lineWidth = 14;
			ctx.beginPath();
			ctx.moveTo(-20,0);
			ctx.lineTo(80,0);
			ctx.stroke();
			ctx.restore();

			// 시간 표시 - 분
			ctx.save();
			ctx.rotate( (Math.PI/30)*min + (Math.PI/1800)*sec );
			ctx.lineWidth = 10;
			ctx.beginPath();
			ctx.moveTo(-28,0);
			ctx.lineTo(112,0);
			ctx.stroke();
			ctx.restore();

			// 시간 표시 - 초
			ctx.save();
			ctx.rotate(sec * Math.PI/30);
			ctx.strokeStyle = "#d40000";
			ctx.fillStyle = "#d40000";
			ctx.lineWidth = 6;
			ctx.beginPath();
			ctx.moveTo(-30,0);
			ctx.lineTo(83,0);
			ctx.stroke();
			ctx.beginPath();
			ctx.arc(0,0,10,0,Math.PI*2, true);
			ctx.fill();
			ctx.beginPath();
			ctx.arc(95,0,10,0,Math.PI*2, true);
			ctx.stroke();
			ctx.fillStyle = "rgba(0,0,0,0)";
			ctx.arc(0,0,3,0,Math.PI*2, true);
			ctx.fill();
			ctx.restore();

			ctx.beginPath();
			ctx.lineWidth = 14;
			ctx.strokeStyle = '#325fa2';
			ctx.arc(0,0,142,0,Math.PI*2,true);
			ctx.stroke();

			ctx.restore();
		}
		init();
	}
	function draw13(){
		var img = new Image();

		// 변수
		// 스크롤될 이미지, 방향, 속도를 바꾸려면 변수값을 바꾼다.

		img.src = 'https://mdn.mozillademos.org/files/4553/Capitan_Meadows,_Yosemite_National_Park.jpg';
		var CanvasXSize = 800;
		var CanvasYSize = 200;
		var speed = 30;
		var scale = 1.05;
		var y = -4.5; // 수직 옵셋

		// 주요 프로그램

		var dx = 0.75;
		var imgW;
		var imgH;
		var x = 0;
		var clearX;
		var clearY;
		var ctx;

		img.onload = function(){
			imgW = img.width * scale;
			imgH = img.height * scale;
			if (imgW > CanvasXSize) { x = CanvasXSize - imgW; } // 캔버스보다 큰 이미지
			if (imgW > CanvasXSize) { clearX = imgW; } // 캔버스보다 큰 이미지
			else { clearX = CanvasXSize; }
			if (imgH > CanvasYSize) { clearY = imgH; } // 캔버스보다 큰 이미지
			else { clearY = CanvasYSize }
			// 캔버스 요소 얻기
			ctx = document.getElementById('canvas13').getContext('2d');
			// 새로 그리기 속도 설정
			return setInterval(draw, speed);
		}

		function draw(){
			// 캔버스를 비운다.
			ctx.clearRect(0, 0, clearX, clearY);
			// 이미지가 캔버스보다 작거나 같다면 (if image is <= Canvas Size)
			if (imgW <= CanvasXSize) {
				// 재설정, 처음부터 시작
				if (x > (CanvasXSize)) { x = 0; }
				// 추가 이미지 그리기
				if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x-CanvasXSize + 1, y, imgW, imgH) }
			}
			// 이미지가 캔버스보다 크다면
			else  {
				// 재설정, 처음부터 시작
				if (x > (CanvasXSize)) { x = CanvasXSize - imgW; }
				// 추가 이미지 그리기
				if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x-imgW+1, y, imgW, imgH) }
			}
			// 이미지 그리기
			ctx.drawImage(img, x, y, imgW, imgH);
			// 움직임 강도
			x += dx;
		}

		var ctx = document.getElementById('canvas13').getContext('2d');
	}
	window.onload = function(){
		draw11();
		draw12();
		draw13();
	}
</script>
</head>
<body>
<div id="g-wrapper">
	<script>include.header()</script>
	<div id="g-container">
		<script>include.aside.init()</script>

		<!-- Content -->
		<article id="g-content">
			<div class="g-content-header">
				<h1 class="g-h1">기본 애니메이션</h1>
			</div>
			<div class="g-content-body">
				<!-- Section -->
				<section class="g-section g-in-sec">
					<div class="g-section-header">
						<h2 class="g-h2">애니메이션 제어하기</h2>
					</div>
					<div class="g-section-body">
						<h3 class="g-h3">태양계 애니메이션</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas11" width="300" height="300"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas11" width="300" height="300"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var sun = new Image();
									var moon = new Image();
									var earth = new Image();
									function init(){
										sun.src = 'https://mdn.mozillademos.org/files/1456/Canvas_sun.png';
										moon.src = 'https://mdn.mozillademos.org/files/1443/Canvas_moon.png';
										earth.src = 'https://mdn.mozillademos.org/files/1429/Canvas_earth.png';
										setInterval(draw, 100);
									}

									function draw(){
										var ctx = document.getElementById('canvas11').getContext('2d');

										ctx.globalCompositeOperation = 'destination-over';
										ctx.clearRect(0, 0, 300, 300); // 캔버스를 비운다

										ctx.fillStyle = 'rgba(0,0,0,0.4)';
										ctx.strokeStyle = 'rgba(0,153,255,0.4)';
										ctx.save();
										ctx.translate(150, 150);

										// 지구
										var time = new Date();
										ctx.rotate( ((2*Math.PI)/60)*time.getSeconds() + ((2*Math.PI)/60000)*time.getMilliseconds() );
										ctx.translate(105, 0);
										ctx.fillRect(0, -12, 50, 24); // Shadow
										ctx.drawImage(earth, -12, -12);

										// 달
										ctx.save();
										ctx.rotate( ((2*Math.PI)/6) * time.getSeconds() + ((2*Math.PI)/6000) * time.getMilliseconds() );
										ctx.translate(0, 28.5);
										ctx.drawImage(moon, -3.5, -3.5);
										ctx.restore();

										ctx.restore();

										ctx.beginPath();
										ctx.arc(150,150,105,0,Math.PI * 2, false); // 지구 궤도
										ctx.stroke();

										ctx.drawImage(sun, 0, 0, 300, 300);
									}
									init();
								</pre>
							</div>
						</div>
						<h3 class="g-h3">시계 애니메이션</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas12" width="150" height="150"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas12" width="150" height="150"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									function init(){
										clock();
										setInterval(clock, 1000);
									}
									function clock(){
										var now = new Date();
										var ctx = document.getElementById('canvas12').getContext('2d');
										ctx.save();
										ctx.clearRect(0,0,150,150);
										ctx.translate(75,75);
										ctx.scale(0.4,0.4);
										ctx.rotate(-Math.PI/2);
										ctx.strokeStyle = "black";
										ctx.fillStyle = "white";
										ctx.lineWidth = 8;
										ctx.lineCap = "round";

										// 시계판 - 시
										ctx.save();
										for (var i = 0; i<12; i++){
											ctx.beginPath();
											ctx.rotate(Math.PI/6);
											ctx.moveTo(100,0);
											ctx.lineTo(120,0);
											ctx.stroke();
										}
										ctx.restore();

										// 시계판 - 분
										ctx.save();
										ctx.lineWidth = 5;
										for (i=0; i<60; i++){
											if (i%5 != 0){
												ctx.beginPath();
												ctx.moveTo(117,0);
												ctx.lineTo(120,0);
												ctx.stroke();
											}
											ctx.rotate(Math.PI/30);
										}
										ctx.restore();

										var sec = now.getSeconds();
										var min = now.getMinutes();
										var hr = now.getHours();
										hr = hr>=12 ? hr-12 : hr;

										ctx.fillStyle = "black";

										// 시간 표시 - 시
										ctx.save();
										ctx.rotate(hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec );
										ctx.lineWidth = 14;
										ctx.beginPath();
										ctx.moveTo(-20,0);
										ctx.lineTo(80,0);
										ctx.stroke();
										ctx.restore();

										// 시간 표시 - 분
										ctx.save();
										ctx.rotate( (Math.PI/30)*min + (Math.PI/1800)*sec );
										ctx.lineWidth = 10;
										ctx.beginPath();
										ctx.moveTo(-28,0);
										ctx.lineTo(112,0);
										ctx.stroke();
										ctx.restore();

										// 시간 표시 - 초
										ctx.save();
										ctx.rotate(sec * Math.PI/30);
										ctx.strokeStyle = "#d40000";
										ctx.fillStyle = "#d40000";
										ctx.lineWidth = 6;
										ctx.beginPath();
										ctx.moveTo(-30,0);
										ctx.lineTo(83,0);
										ctx.stroke();
										ctx.beginPath();
										ctx.arc(0,0,10,0,Math.PI*2, true);
										ctx.fill();
										ctx.beginPath();
										ctx.arc(95,0,10,0,Math.PI*2, true);
										ctx.stroke();
										ctx.fillStyle = "rgba(0,0,0,0)";
										ctx.arc(0,0,3,0,Math.PI*2, true);
										ctx.fill();
										ctx.restore();

										ctx.beginPath();
										ctx.lineWidth = 14;
										ctx.strokeStyle = '#325fa2';
										ctx.arc(0,0,142,0,Math.PI*2,true);
										ctx.stroke();

										ctx.restore();
									}
									init();
								</pre>
							</div>
						</div>
						<h3 class="g-h3">움직이는 파노라마 사진</h3>
						<div class="g-example-wrap">
							<div class="g-example-body">
								<div class="g-example-preview">
									<canvas id="canvas13" width="800" height="200"></canvas>
								</div>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:html">
									<!-- HTML -->
									&lt;canvas id="canvas13" width="800" height="200"&gt;&lt;/canvas&gt;
								</pre>
							</div>
							<div class="g-example-footer is-active">
								<pre class="brush:js">
									var img = new Image();

									// 변수
									// 스크롤될 이미지, 방향, 속도를 바꾸려면 변수값을 바꾼다.
									img.src = 'https://mdn.mozillademos.org/files/4553/Capitan_Meadows,_Yosemite_National_Park.jpg';
									var CanvasXSize = 800;
									var CanvasYSize = 200;
									var speed = 30;
									var scale = 1.05;
									var y = -4.5; // 수직 옵셋

									// 주요 프로그램
									var dx = 0.75;
									var imgW;
									var imgH;
									var x = 0;
									var clearX;
									var clearY;
									var ctx;

									img.onload = function(){
										imgW = img.width * scale;
										imgH = img.height * scale;
										if (imgW > CanvasXSize) { x = CanvasXSize - imgW; } // 캔버스보다 큰 이미지
										if (imgW > CanvasXSize) { clearX = imgW; } // 캔버스보다 큰 이미지
										else { clearX = CanvasXSize; }
										if (imgH > CanvasYSize) { clearY = imgH; } // 캔버스보다 큰 이미지
										else { clearY = CanvasYSize }
										// 캔버스 요소 얻기
										ctx = document.getElementById('canvas13').getContext('2d');
										// 새로 그리기 속도 설정
										return setInterval(draw, speed);
									}

									function draw(){
										// 캔버스를 비운다.
										ctx.clearRect(0, 0, clearX, clearY);
										// 이미지가 캔버스보다 작거나 같다면 (if image is <= Canvas Size)
										if (imgW <= CanvasXSize) {
											// 재설정, 처음부터 시작
											if (x > (CanvasXSize)) { x = 0; }
											// 추가 이미지 그리기
											if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x-CanvasXSize + 1, y, imgW, imgH) }
										}
										// 이미지가 캔버스보다 크다면
										else  {
											// 재설정, 처음부터 시작
											if (x > (CanvasXSize)) { x = CanvasXSize - imgW; }
											// 추가 이미지 그리기
											if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x-imgW+1, y, imgW, imgH) }
										}
										// 이미지 그리기
										ctx.drawImage(img, x, y, imgW, imgH);
										// 움직임 강도
										x += dx;
									}

									var ctx = document.getElementById('canvas13').getContext('2d');
								</pre>
							</div>
						</div>
					</div>
				</section>
				<!-- //Section -->
			</div>
		</article>
		<!-- //Content -->

		<script>include.quick.init()</script>
	</div>
	<script>include.footer()</script>
</div>
</body>
</html>